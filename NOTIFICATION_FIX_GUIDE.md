# üîî –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é Push –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## üîç –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **–î–æ–±–∞–≤–ª–µ–Ω `background-fetch` –≤ iOS UIBackgroundModes** - –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
2. **–î–æ–±–∞–≤–ª–µ–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ `POST_NOTIFICATIONS`** –¥–ª—è Android 13+ 
3. **–£–ª—É—á—à–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è EAS** - –¥–æ–±–∞–≤–ª–µ–Ω—ã resourceClass –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏
4. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ Firebase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - —É–±—Ä–∞–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä—è–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

### üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —Ä–µ—à–∏—Ç—å:

#### 1. **APNs –∫–ª—é—á –¥–ª—è iOS (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)**
–î–ª—è —Ä–∞–±–æ—Ç—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ TestFlight –∏ App Store –Ω—É–∂–µ–Ω APNs –∫–ª—é—á:

```bash
# 1. –ó–∞–π–¥–∏—Ç–µ –≤ Apple Developer Console
# 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Certificates, Identifiers & Profiles
# 3. –°–æ–∑–¥–∞–π—Ç–µ APNs Key (.p8 —Ñ–∞–π–ª)
# 4. –î–æ–±–∞–≤—å—Ç–µ –≤ EAS Secrets:

eas secret:create --scope project --name APPLE_PUSH_KEY --value "$(cat path/to/AuthKey_XXXXXXXXXX.p8)"
eas secret:create --scope project --name APPLE_PUSH_KEY_ID --value "XXXXXXXXXX"
eas secret:create --scope project --name APPLE_TEAM_ID --value "Z22573B2K6"
```

#### 2. **–û–±–Ω–æ–≤–∏—Ç—å eas.json —Å APNs –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π**
```json
{
  "build": {
    "production": {
      "ios": {
        "buildConfiguration": "Release",
        "simulator": false,
        "resourceClass": "m-medium"
      }
    }
  }
}
```

#### 3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Bundle ID –∏ Package Name**
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Bundle ID –∏ Package Name —Å–æ–≤–ø–∞–¥–∞—é—Ç:
- iOS Bundle ID: `com.farakor.osonishmobile`
- Android Package: `com.farakor.osonishmobile`
- Firebase Project Package: `com.farakor.osonishmobile`

## üõ†Ô∏è –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

### –î–ª—è Expo Go (Development):
```bash
# 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
expo start --clear

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
# –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏: "‚úÖ Push token –ø–æ–ª—É—á–µ–Ω"
```

### –î–ª—è TestFlight (Production):
```bash
# 1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ APNs –∫–ª—é—á (—Å–º. –≤—ã—à–µ)
# 2. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
eas build --platform ios --profile production

# 3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤ TestFlight
eas submit --platform ios
```

### –î–ª—è Google Play (Production):
```bash
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ google-services.json –∞–∫—Ç—É–∞–ª–µ–Ω
# 2. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
eas build --platform android --profile production

# 3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤ Google Play
eas submit --platform android
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:

### –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
2. –ù–∞–π–¥–∏—Ç–µ –ª–æ–≥–∏: `[NotificationService] ‚úÖ Push token –ø–æ–ª—É—á–µ–Ω`
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –í–Ω–µ—à–Ω–µ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Expo Push Tool
npx expo send-notification --to="ExponentPushToken[xxxxxx]" --title="Test" --body="Test message"
```

## üì± –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π:

### iOS:
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí Osonish ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è ‚Üí –í–∫–ª—é—á–∏—Ç—å
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ —Ç–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤–∫–ª—é—á–µ–Ω—ã

### Android:
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí Osonish ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è ‚Üí –í–∫–ª—é—á–∏—Ç—å
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## üîß –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º:

### –ï—Å–ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç:
1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω push token
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è** - –≤ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ç—Ä–µ–±—É—é—Ç —Å–µ—Ç–∏
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ APNs –∫–ª—é—á** - –¥–ª—è iOS production

### –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è:
1. **Expo Go**: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ EAS projectId –Ω–∞—Å—Ç—Ä–æ–µ–Ω
2. **Production**: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ APNs –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ EAS
3. **Android**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ google-services.json

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞:
–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- EAS Dashboard: https://expo.dev/accounts/farakor/projects/osonish-mobile
- Firebase Console: https://console.firebase.google.com/project/osonish-mobile
- Apple Developer: https://developer.apple.com/account/
