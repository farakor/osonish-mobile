# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π Android 15+

## –û–±–∑–æ—Ä –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π

### ‚úÖ 1. `setBackgroundColorAsync` –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å edge-to-edge

**–ü—Ä–æ–±–ª–µ–º–∞:**
```
WARN `setBackgroundColorAsync` is not supported with edge-to-edge enabled.
```

**–†–µ—à–µ–Ω–∏–µ:**
–û–±–Ω–æ–≤–ª–µ–Ω —Ñ–∞–π–ª `src/utils/navigationBarUtils.ts`:

```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Edge-to-Edge
const isEdgeToEdgeSupported = (): boolean => {
  return Platform.OS === 'android' && Platform.Version >= 28;
};

// –£—Å–ª–æ–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ navigation bar
export const setupTransparentNavigationBar = async (): Promise<void> => {
  try {
    if (isEdgeToEdgeSupported()) {
      // –í Edge-to-Edge —Ä–µ–∂–∏–º–µ navigation bar –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π
      await NavigationBar.setVisibilityAsync('visible');
    } else {
      // –î–ª—è —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π Android –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω
      await NavigationBar.setBackgroundColorAsync('transparent');
    }
  } catch (error) {
    console.warn('[NavigationBar] ‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–ø—É—â–µ–Ω–∞ (Edge-to-Edge —Ä–µ–∂–∏–º)');
  }
};
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–æ
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Edge-to-Edge —Ä–µ–∂–∏–º–∞
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ —Å—Ç–∞—Ä—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ Android

### ‚úÖ 2. SafeAreaView —É—Å—Ç–∞—Ä–µ–ª

**–ü—Ä–æ–±–ª–µ–º–∞:**
```
WARN SafeAreaView has been deprecated and will be removed in a future release. 
Please use 'react-native-safe-area-context' instead.
```

**–†–µ—à–µ–Ω–∏–µ:**
–°–æ–∑–¥–∞–Ω –∏ –∑–∞–ø—É—â–µ–Ω —Å–∫—Ä–∏–ø—Ç `scripts/replace-safeareaview.js`:

**–ë—ã–ª–æ:**
```typescript
import { SafeAreaView } from 'react-native';
```

**–°—Ç–∞–ª–æ:**
```typescript
import { SafeAreaView } from 'react-native-safe-area-context';
```

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–º–µ–Ω—ã:**
- üìä –§–∞–π–ª–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: 133
- ‚úÖ –§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ: 39
- üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–æ: –≤—Å–µ SafeAreaView

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–æ
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ SafeAreaView
- ‚úÖ –õ—É—á—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∑–æ–Ω
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Edge-to-Edge

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### üõ†Ô∏è –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã

1. **navigationBarUtils.ts**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Edge-to-Edge
   - –£—Å–ª–æ–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ navigation bar
   - Graceful handling –æ—à–∏–±–æ–∫

2. **EdgeToEdgeStatusBar.tsx**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Android 15+
   - –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω –≤ Edge-to-Edge —Ä–µ–∂–∏–º–µ

3. **safeAreaUtils.ts**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Dimensions –≤–º–µ—Å—Ç–æ StatusBar.currentHeight
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Edge-to-Edge –æ—Ç—Å—Ç—É–ø–æ–≤

### üì± –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

**Android 15+:**
- ‚úÖ Edge-to-Edge —Ä–µ–∂–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ navigation bar
- ‚úÖ –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞–Ω–µ–ª–∏

**Android 14 –∏ –Ω–∏–∂–µ:**
- ‚úÖ –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- ‚úÖ –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ navigation bar
- ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ SafeAreaView

**–í—Å–µ –≤–µ—Ä—Å–∏–∏:**
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
node scripts/check-android-15-compatibility.js

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
npx expo start --android

# –°–±–æ—Ä–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
npx eas build --platform android --profile preview
```

### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- ‚ùå –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è `setBackgroundColorAsync` - —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã
- ‚ùå –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è `SafeAreaView deprecated` - —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –Ω–∞ Android 15+
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Edge-to-Edge —Ä–µ–∂–∏–º–∞
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ Android 15+ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
   - –£–±–µ–¥–∏—Ç—å—Å—è –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –æ—Ç—Å—Ç—É–ø–æ–≤

2. **–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:**
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏
   - –£–±–µ–¥–∏—Ç—å—Å—è –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–∞—Ö —ç–∫—Ä–∞–Ω–æ–≤

3. **–ü—É–±–ª–∏–∫–∞—Ü–∏—è:**
   - –°–æ–±—Ä–∞—Ç—å production –±–∏–ª–¥
   - –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤ Google Play Store
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –æ—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø –ò–°–ü–†–ê–í–õ–ï–ù–´

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.
