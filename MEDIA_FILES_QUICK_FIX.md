# üöÄ –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ —Å –º–µ–¥–∏–∞ —Ñ–∞–π–ª–∞–º–∏

## ‚ùå –ù–æ–≤–∞—è –æ—à–∏–±–∫–∞
```
ERROR [MediaService] Bucket 'order-media' –Ω–µ –Ω–∞–π–¥–µ–Ω. –°–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ Supabase.
```

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (–í–ê–ñ–ù–û!)

**1. –û–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:**
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –º–µ–¥–∏–∞ —Ñ–∞–π–ª
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏:
```
[MediaService] üìã –ù–∞–π–¥–µ–Ω–æ buckets: X
[MediaService] –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö buckets:
  1. "your-bucket-name" (id: xxx, public: true)
```

**2. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- ‚ùå Bucket —Å–æ–∑–¥–∞–Ω —Å –¥—Ä—É–≥–∏–º –∏–º–µ–Ω–µ–º
- ‚ùå Bucket —Å–æ–∑–¥–∞–Ω –≤ –¥—Ä—É–≥–æ–º –ø—Ä–æ–µ–∫—Ç–µ Supabase
- ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

## ‚úÖ –ë—ã—Å—Ç—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏ (–ù–ê–ò–ë–û–õ–ï–ï –í–ï–†–û–Ø–¢–ù–û)
–ï—Å–ª–∏ bucket —Å–æ–∑–¥–∞–Ω, –Ω–æ –Ω–µ –Ω–∞–π–¥–µ–Ω - –ø—Ä–æ–±–ª–µ–º–∞ –≤ –ø–æ–ª–∏—Ç–∏–∫–∞—Ö:

**üöÄ –ë—ã—Å—Ç—Ä–æ (–æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞):**
1. [supabase.com](https://supabase.com) ‚Üí **SQL Editor** ‚Üí **New query**
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ: `CREATE POLICY "Allow everyone to see buckets" ON storage.buckets FOR SELECT USING (true);`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**üîß –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**
1. **SQL Editor** ‚Üí —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `STORAGE_POLICIES_SIMPLE.sql`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å bucket
1. **Storage** ‚Üí —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ bucket –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **—Ç–æ—á–Ω–æ** `order-media`
2. **Public bucket:** ‚úÖ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω–æ

### –í–∞—Ä–∏–∞–Ω—Ç 3: –û—Ç–∫–ª—é—á–∏—Ç—å Storage (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
–í `src/services/mediaService.ts`:
```typescript
private readonly ENABLE_STORAGE = false; // –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ false
```

### –í–∞—Ä–∏–∞–Ω—Ç 4: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback
–ù–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã.

## üìã –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
- üîç –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤ –ª–æ–≥–∞—Ö
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ buckets
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Supabase
- üõ†Ô∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ –æ—Ç–∫–ª—é—á–∏—Ç—å Storage
- ‚úÖ Fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã

## üîß –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: [SUPABASE_DEBUG_GUIDE.md](./SUPABASE_DEBUG_GUIDE.md) 