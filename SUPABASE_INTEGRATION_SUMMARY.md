# –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Supabase

## –ü—Ä–æ–±–ª–µ–º–∞
**–ó–∞–∫–∞–∑—ã –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–ª–∏—Å—å –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –∑–∞–∫–∞–∑—á–∏–∫–æ–≤ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π**, —Ç–∞–∫ –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º AsyncStorage –∫–∞–∂–¥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

## –†–µ—à–µ–Ω–∏–µ
‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω Supabase** –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤ –º–µ–∂–¥—É –≤—Å–µ–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏.

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase –∫–ª–∏–µ–Ω—Ç–∞
- **–§–∞–π–ª**: `src/services/supabaseClient.ts`
- –ù–∞—Å—Ç—Ä–æ–µ–Ω –∫–ª–∏–µ–Ω—Ç Supabase —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π TypeScript
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Ç–∏–ø—ã –¥–ª—è —Ç–∞–±–ª–∏—Ü `orders` –∏ `users`

### 2. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **–§–∞–π–ª**: `supabase-schema.sql`
- –°–æ–∑–¥–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ `orders` –¥–ª—è –∑–∞–∫–∞–∑–æ–≤
- –°–æ–∑–¥–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ `users` –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ç—Ä–∏–≥–≥–µ—Ä—ã –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –í–∫–ª—é—á–µ–Ω Row Level Security (RLS)
- –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `increment_applicants_count()`

### 3. ‚úÖ –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è OrderService
- **–§–∞–π–ª**: `src/services/orderService.ts`
- Hybrid —Ä–µ–∂–∏–º: Supabase + fallback –Ω–∞ AsyncStorage
- –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase
- –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Supabase:
  - `createOrderSupabase()` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –≤ –æ–±–ª–∞–∫–µ
  - `getAvailableOrdersSupabase()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
  - `getUserOrdersSupabase()` - –∑–∞–∫–∞–∑—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `incrementOrderApplicantsSupabase()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –æ—Ç–∫–ª–∏–∫–æ–≤

### 4. ‚úÖ Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **–§–∞–π–ª**: `src/screens/worker/WorkerJobsScreen.tsx`
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### 5. ‚úÖ UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
- –ó–µ–ª–µ–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∞" –¥–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
- –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ DevScreen (—Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ –æ—à–∏–±–∫–∞–º–∏ —Å—Ç–∏–ª–µ–π)

### 6. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **–§–∞–π–ª**: `SUPABASE_SETUP.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

### ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- –ó–∞–∫–∞–∑—á–∏–∫ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑ ‚Üí –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –µ–≥–æ **–º–≥–Ω–æ–≤–µ–Ω–Ω–æ**
- –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –æ—Ç–∫–ª–∏–∫–∞–µ—Ç—Å—è ‚Üí —Å—á–µ—Ç—á–∏–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è **–≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**

### ‚úÖ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- **Hybrid —Ä–µ–∂–∏–º**: –µ—Å–ª–∏ Supabase –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ
- **–ê–≤—Ç–æ—Ñallback**: –±–µ–∑ –ø–µ—Ä–µ—Ä—ã–≤–∞ –≤ —Ä–∞–±–æ—Ç–µ
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**: –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–Ω–∞–µ—Ç —Å–≤–æ–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- **–û–±–ª–∞—á–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL –æ—Ç Supabase
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**: –∏–Ω–¥–µ–∫—Å—ã –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Real-time**: WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

### –í–∞—Ä–∏–∞–Ω—Ç 1: –î–≤–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Supabase –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ `SUPABASE_SETUP.md`
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –¥–≤–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –∑–∞–∫–∞–∑—á–∏–∫–∞ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
4. –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–∫–∞–∑ —Å –æ–¥–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
5. **–ó–∞–∫–∞–∑ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ –≤—Ç–æ—Ä–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!**

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–¥–∏–Ω —Ç–µ–ª–µ—Ñ–æ–Ω
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∫–∞–∫ –∑–∞–∫–∞–∑—á–∏–∫
2. –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–∫–∞–∑
3. –í—ã–π–¥–∏—Ç–µ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞
4. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∫–∞–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å  
5. –ó–∞–∫–∞–∑ –±—É–¥–µ—Ç –≤–∏–¥–µ–Ω –≤ —Å–ø–∏—Å–∫–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π

## –§–∞–π–ª—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—É–∂–µ —Å–¥–µ–ª–∞–Ω–æ)
npm install @supabase/supabase-js react-native-url-polyfill

# 2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
cp src/services/supabaseClient.template.ts src/services/supabaseClient.ts

# 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–ª—é—á–∏ –≤ —Å–æ–∑–¥–∞–Ω–Ω–æ–º —Ñ–∞–π–ª–µ:
# src/services/supabaseClient.ts (–ù–ï –≤ .template!)

# 4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å—Ö–µ–º—É –≤ Supabase Dashboard:
supabase-schema-fix-correct.sql

# 5. –°–ª–µ–¥—É–π—Ç–µ –ø–æ–ª–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:
SUPABASE_SETUP.md
```

**üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –§–∞–π–ª `supabaseClient.ts` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore` –¥–ª—è –∑–∞—â–∏—Ç—ã –≤–∞—à–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤.

## –°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á

- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Supabase –∫–ª–∏–µ–Ω—Ç –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∑–∞–∫–∞–∑–æ–≤ –≤ Supabase  
- ‚úÖ –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å orderService –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Supabase
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å Supabase Auth
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

## –†–µ–∑—É–ª—å—Ç–∞—Ç

üéâ **–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!** –¢–µ–ø–µ—Ä—å –∑–∞–∫–∞–∑—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –º–µ–∂–¥—É –≤—Å–µ–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

### –î–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
‚ùå –ó–∞–∫–∞–∑—á–∏–∫ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑ ‚Üí –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –µ–≥–æ –Ω–µ –≤–∏–¥–∏—Ç

### –ü–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:  
‚úÖ –ó–∞–∫–∞–∑—á–∏–∫ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑ ‚Üí –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç –µ–≥–æ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
‚úÖ Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
‚úÖ Fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å —Å–µ—Ç—å—é 